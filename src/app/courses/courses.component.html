<div id="overview"> 
  <button mat-button [matMenuTriggerFor]="menu" (click)="courseWidget();" matBadge={{savedCourseWidget.length}}>
  Ramschema</button>
</div> 
<mat-menu #menu="matMenu">
  @for(course of savedCourseWidget; track course.courseName){
    <button mat-menu-item>{{course.courseName}}</button>
  }
</mat-menu>

<div id="form">
    <span>
    <label for="serach">Sök kurser</label>
    <input type="text" id="serach" [(ngModel)]="searchCourse" (input)="courseSearch()">
    </span>
    <span> listar {{searchedCourses.length}} kurses av totalt {{courses.length}} </span>
 <mat-form-field>
   <mat-label>Välje ämne</mat-label>
   <mat-select (selectionChange)="selectedSub()" [(value)]="selected">
      <mat-option value="">Alla ämnen</mat-option>
   <mat-option *ngFor="let subject of subjects()" value="{{subject}}">{{subject}}</mat-option>
   </mat-select>
  </mat-form-field>
  
  </div>
   <div class="dataTable">
   <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">
      <ng-container class="courseCodes" matColumnDef="courseCode">
         <th mat-header-cell *matHeaderCellDef mat-sort-header class="courseCodes"> Kurskod </th>
         <td mat-cell *matCellDef="let course" class="courseCodes"> {{ course.courseCode }} </td>
       </ng-container>
       <ng-container matColumnDef="courseName">
         <th mat-header-cell *matHeaderCellDef mat-sort-header> Kursnamn </th>
         <td mat-cell *matCellDef="let course"> {{ course.courseName }} </td>
       </ng-container>
       <ng-container matColumnDef="points">
         <th mat-header-cell *matHeaderCellDef mat-sort-header> Poäng </th>
         <td mat-cell *matCellDef="let course"> {{ course.points }}hp </td>
       </ng-container>
       <ng-container matColumnDef="subject" class="subjects">
         <th mat-header-cell *matHeaderCellDef mat-sort-header class="subjects"> Ämne  </th>
         <td mat-cell *matCellDef="let course" class="subjects"> {{ course.subject }} </td>
       </ng-container>
       <ng-container matColumnDef="syllabus">
         <th mat-header-cell *matHeaderCellDef> Kursplan  </th>
         <td mat-cell *matCellDef="let course"> <a [href]="course.syllabus">Kursplan</a> </td>
       </ng-container>
       <ng-container matColumnDef="Lägg till">
        <th mat-header-cell *matHeaderCellDef>Lägg till</th>
        <td mat-cell *matCellDef="let course"> <button (click)="save(course); openSnackBar(course.courseName)"> + </button> </td>
      </ng-container>
       <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
       <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator #paginator
    [pageSizeOptions]="pageSizes"
    [length]="searchedCourses.length"
    showFirstLastButtons
    aria-label="Select page of course list">
  </mat-paginator>
</div>
