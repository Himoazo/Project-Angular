<button mat-button [matMenuTriggerFor]="menu" (click)="courseWidget();" matBadge={{savedCourseWidget.length}}>
  Ramschema överkast</button>
<mat-menu #menu="matMenu">
  @for(course of savedCourseWidget; track course.courseName){
    <button mat-menu-item>{{course.courseName}}</button>
  }
</mat-menu>

<div id="form">
    <label for="serach">Sök kurser</label>
    <input type="text" id="serach" [(ngModel)]="searchCourse" (input)="courseSearch()">
 </div>
 <mat-form-field>
   <mat-label>Välje ämne</mat-label>
   <mat-select (selectionChange)="selectedSub()" [(value)]="selected">
      <mat-option value="">Inget ämne</mat-option>
   <mat-option *ngFor="let subject of subjects()" value="{{subject}}">{{subject}}</mat-option>
   </mat-select>
  </mat-form-field>
  <span> listar {{searchedCourses.length}} kurses av totalt {{courses.length}} </span>

   <div>
   <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="courseCode">
         <th mat-header-cell *matHeaderCellDef (click)="sortByCode()"> Kurskod </th>
         <td mat-cell *matCellDef="let course"> {{ course.courseCode }} </td>
       </ng-container>
       <ng-container matColumnDef="courseName">
         <th mat-header-cell *matHeaderCellDef (click)="sortByName()"> Kursnamn </th>
         <td mat-cell *matCellDef="let course"> {{ course.courseName }} </td>
       </ng-container>
       <ng-container matColumnDef="points">
         <th mat-header-cell *matHeaderCellDef (click)="sortByPoints()"> Poäng </th>
         <td mat-cell *matCellDef="let course"> {{ course.points }}hp </td>
       </ng-container>
       <ng-container matColumnDef="subject">
         <th mat-header-cell *matHeaderCellDef (click)="sortBySubject()"> Ämne  </th>
         <td mat-cell *matCellDef="let course"> {{ course.subject }} </td>
       </ng-container>
       <ng-container matColumnDef="syllabus">
         <th mat-header-cell *matHeaderCellDef> Kursplan  </th>
         <td mat-cell *matCellDef="let course"> <a [href]="course.syllabus">Kursplan</a> </td>
       </ng-container>
       <ng-container matColumnDef="Lägg till">
        <th mat-header-cell *matHeaderCellDef> Lägg till  </th>
        <td mat-cell *matCellDef="let course"> <button (click)="save(course)" 
          (click)="openSnackBar(course.courseName)">Lägg till</button> </td>
      </ng-container>
       <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
       <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator #paginator
    [pageSizeOptions]="pageSizes"
    [length]="searchedCourses.length"
    showFirstLastButtons
    aria-label="Select page of periodic elements">
  </mat-paginator>
</div>
